# ========================
# Admin user (créé au premier démarrage)
# ========================
KEYCLOAK_ADMIN={{ kc_admin }}     
KEYCLOAK_ADMIN_PASSWORD={{ kc_admin_password }}   

# ========================
# Hostname & domaine
# ========================
DOMAIN={{ base_domain }}                      
KEYCLOAK_REALM={{ kc_realm }}                  
KC_HOSTNAME=sso.{{ base_domain }}       
KC_HTTP_ENABLED=true                         
KC_HOSTNAME_STRICT=false                      
KC_HOSTNAME_STRICT_HTTPS=false 
KC_PROXY=edge 
# ========================
# Base de données
# ========================
KC_DB: postgres
KC_DB_URL: jdbc:postgresql://postgres:5432/${POSTGRES_DB}
KC_DB_USERNAME: ${POSTGRES_USER}
KC_DB_PASSWORD: ${POSTGRES_PASSWORD}     

# ========================
# Database
# ========================
POSTGRES_USER={{ postgres_user }}            
POSTGRES_PASSWORD={{ postgres_password }}     
POSTGRES_DB={{ postgres_db }}                 

# ========================
# Logs & monitoring
# ========================
KC_LOG_LEVEL=info                             
KC_METRICS_ENABLED=true                       
KC_HEALTH_ENABLED=true                        


JAVA_OPTS_APPEND="-Dcom.sun.net.ssl.checkRevocation=false -Djdk.tls.client.protocols=TLSv1.3 -Djavax.net.ssl.trustStoreType=JKS"