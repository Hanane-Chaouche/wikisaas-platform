# ========================
# Admin user (créé au premier démarrage)
# ========================
KEYCLOAK_ADMIN={{ kc_admin }}                 # Login admin Keycloak (par défaut: admin)
KEYCLOAK_ADMIN_PASSWORD={{ kc_admin_password }}   # Mot de passe admin Keycloak

# ========================
# Hostname & domaine
# ========================
DOMAIN={{ base_domain }}                      # Domaine principal (ex: wikiplatform.app)
KEYCLOAK_REALM={{ kc_realm }}                 # Nom du Realm par défaut (ex: saas)

# ========================
# Database
# ========================
POSTGRES_USER={{ postgres_user }}             # Utilisateur PostgreSQL utilisé par Keycloak
POSTGRES_PASSWORD={{ postgres_password }}     # Mot de passe PostgreSQL
POSTGRES_DB={{ postgres_db }}                 # Nom de la base PostgreSQL

# ========================
# Logs & monitoring
# ========================
KC_LOG_LEVEL=info                             # Niveau de log: trace|debug|info|warn|error
KC_METRICS_ENABLED=true                       # Active l’endpoint /metrics (Prometheus)
KC_HEALTH_ENABLED=true                        # Active les endpoints /health/ready et /health/live

# ⚠️ Hack uniquement si tu es encore avec Let's Encrypt STAGING
JAVA_OPTS_APPEND=-Dcom.sun.net.ssl.checkRevocation=false -Djdk.tls.client.protocols=TLSv1.3 -Djavax.net.ssl.trustStoreType=JKS